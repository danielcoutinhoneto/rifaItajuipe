(function(e){if(!e.browser){e.browser={};e.browser.mozilla=/mozilla/.test(navigator.userAgent.toLowerCase())&&!/webkit/.test(navigator.userAgent.toLowerCase());e.browser.webkit=/webkit/.test(navigator.userAgent.toLowerCase());e.browser.opera=/opera/.test(navigator.userAgent.toLowerCase());e.browser.msie=/msie/.test(navigator.userAgent.toLowerCase());e.browser.device=/android|webos|iphone|ipad|ipod|blackberry|iemobile|opera mini/i.test(navigator.userAgent.toLowerCase())}var c={prefix:"",suffix:"",affixesStay:true,thousands:",",decimal:".",precision:2,allowZero:false,allowNegative:false,doubleClickSelection:true,allowEmpty:false,bringCaretAtEndOnFocus:true},d={destroy:function(){e(this).unbind(".maskMoney");if(e.browser.msie){this.onpaste=null}return this},applyMask:function(j){var k=e(this);var i=k.data("settings");return a(j,i)},mask:function(i){return this.each(function(){var j=e(this);if(typeof i==="number"){j.val(i)}return j.trigger("mask")})},unmasked:function(){return this.map(function(){var k=(e(this).val()||"0"),i=k.indexOf("-")!==-1,j;e(k.split(/\D/).reverse()).each(function(l,m){if(m){j=m;return false}});k=k.replace(/\D/g,"");k=k.replace(new RegExp(j+"$"),"."+j);if(i){k="-"+k}return parseFloat(k)})},unmaskedWithOptions:function(){return this.map(function(){var k=(e(this).val()||"0"),j=e(this).data("settings")||c,i=new RegExp((j.thousandsForUnmasked||j.thousands),"g");k=k.replace(i,"");return parseFloat(k)})},init:function(i){i=e.extend(e.extend({},c),i);return this.each(function(){var j=e(this),D,v;D=e.extend({},i);D=e.extend(D,j.data());j.data("settings",D);function F(){var L=j.get(0),O=0,J=0,N,K,I,H,M;if(typeof L.selectionStart==="number"&&typeof L.selectionEnd==="number"){O=L.selectionStart;J=L.selectionEnd}else{K=document.selection.createRange();if(K&&K.parentElement()===L){H=L.value.length;N=L.value.replace(/\r\n/g,"\n");I=L.createTextRange();I.moveToBookmark(K.getBookmark());M=L.createTextRange();M.collapse(false);if(I.compareEndPoints("StartToEnd",M)>-1){O=J=H}else{O=-I.moveStart("character",-H);O+=N.slice(0,O).split("\n").length-1;if(I.compareEndPoints("EndToEnd",M)>-1){J=H}else{J=-I.moveEnd("character",-H);J+=N.slice(0,J).split("\n").length-1}}}}return{start:O,end:J}}function o(){var K=!(j.val().length>=j.attr("maxlength")&&j.attr("maxlength")>=0),J=F(),M=J.start,I=J.end,L=(J.start!==J.end&&j.val().substring(M,I).match(/\d/))?true:false,H=(j.val().substring(0,1)==="0");return K||L||H}function C(H){if(!!D.formatOnBlur){return}j.each(function(J,K){if(K.setSelectionRange){K.focus();K.setSelectionRange(H,H)}else{if(K.createTextRange){var I=K.createTextRange();I.collapse(true);I.moveEnd("character",H);I.moveStart("character",H);I.select()}}})}function p(I){var H=j.val().length,J;j.val(a(j.val(),D));J=j.val().length;if(!D.reverse){I=I-(H-J)}C(I)}function z(){var K=j.val();if(D.allowEmpty&&K===""){return}var I=!isNaN(K);var J=I?K.indexOf("."):K.indexOf(D.decimal);if(D.precision>0){if(J<0){K+=D.decimal+new Array(D.precision+1).join(0)}else{var L=K.slice(0,J),H=K.slice(J+1);K=L+D.decimal+H+new Array((D.precision+1)-H.length).join(0)}}else{if(J>0){K=K.slice(0,J)}}j.val(a(K,D))}function s(){var H=j.val();if(D.allowNegative){if(H!==""&&H.charAt(0)==="-"){return H.replace("-","")}else{return"-"+H}}else{return H}}function q(H){if(H.preventDefault){H.preventDefault()}else{H.returnValue=false}}function B(){if(e.browser.device){j.attr("type","tel")}}function y(J){J=J||window.event;var I=J.which||J.charCode||J.keyCode,H=D.decimal.charCodeAt(0);if(I===undefined){return false}if((I<48||I>57)&&(I!==H||!D.reverse)){return E(I,J)}else{if(!o()){return false}else{if(I===H&&A()){return false}if(D.formatOnBlur){return true}q(J);x(J);return false}}}function A(){if(w()){return false}return r()}function w(){var I=j.val().length;var H=F();return H.start===0&&H.end===I}function r(){return j.val().indexOf(D.decimal)>-1}function x(N){N=N||window.event;var K=N.which||N.charCode||N.keyCode,H="",L,J,I,M;if(K>=48&&K<=57){H=String.fromCharCode(K)}L=F();J=L.start;I=L.end;M=j.val();j.val(M.substring(0,J)+H+M.substring(I,M.length));p(J+1)}function E(H,I){if(H===45){j.val(s());return false}else{if(H===43){j.val(j.val().replace("-",""));return false}else{if(H===13||H===9){return true}else{if(e.browser.mozilla&&(H===37||H===39)&&I.charCode===0){return true}else{q(I);return true}}}}}j.on("keyup",function(N){N=N||window.event;var K=N.which||N.charCode||N.keyCode,H,L,J,I,M;L=F();J=L.start;p(J+1)});function n(N){N=N||window.event;var K=N.which||N.charCode||N.keyCode,L,J,I,M,H;if(K===undefined){return false}L=F();J=L.start;I=L.end;if(K===8||K===46||K===63272){q(N);M=j.val();if(J===I){if(K===8){if(D.suffix===""){J-=1}else{H=M.split("").reverse().join("").search(/\d/);J=M.length-H-1;I=J+1}}else{I+=1}}j.val(M.substring(0,J)+M.substring(I,M.length));p(J);return false}else{if(K===9){return true}else{return true}}}function l(){v=j.val();z();var H=j.get(0),I;if(!!D.selectAllOnFocus){H.select()}else{if(H.createTextRange&&D.bringCaretAtEndOnFocus){I=H.createTextRange();I.collapse(false);I.select()}}}function t(){setTimeout(function(){z()},0)}function G(){var H=parseFloat("0")/Math.pow(10,D.precision);return(H.toFixed(D.precision)).replace(new RegExp("\\.","g"),D.decimal)}function u(I){if(e.browser.msie){y(I)}if(!!D.formatOnBlur&&j.val()!==v){x(I)}if(j.val()===""&&D.allowEmpty){j.val("")}else{if(j.val()===""||j.val()===f(G(),D)){if(!D.allowZero){j.val("")}else{if(!D.affixesStay){j.val(G())}else{j.val(f(G(),D))}}}else{if(!D.affixesStay){var H=j.val().replace(D.prefix,"").replace(D.suffix,"");j.val(H)}}}if(j.val()!==v){j.change()}}function k(){var H=j.get(0),I;if(!!D.selectAllOnFocus){return}else{if(H.setSelectionRange&&D.bringCaretAtEndOnFocus){I=j.val().length;H.setSelectionRange(I,I)}else{j.val(j.val())}}}function m(){var H=j.get(0),J,I;if(H.setSelectionRange&&D.bringCaretAtEndOnFocus){I=j.val().length;J=D.doubleClickSelection?0:I;H.setSelectionRange(J,I)}else{j.val(j.val())}}B();j.unbind(".maskMoney");j.bind("keypress.maskMoney",y);j.bind("keydown.maskMoney",n);j.bind("blur.maskMoney",u);j.bind("focus.maskMoney",l);j.bind("click.maskMoney",k);j.bind("dblclick.maskMoney",m);j.bind("cut.maskMoney",t);j.bind("paste.maskMoney",t);j.bind("mask.maskMoney",z)})}};function f(k,j){var i="";if(k.indexOf("-")>-1){k=k.replace("-","");i="-"}if(k.indexOf(j.prefix)>-1){k=k.replace(j.prefix,"")}if(k.indexOf(j.suffix)>-1){k=k.replace(j.suffix,"")}return i+j.prefix+k+j.suffix}function a(j,i){if(i.allowEmpty&&j===""){return""}if(!!i.reverse){return b(j,i)}return h(j,i)}function h(p,k){var l=(p.indexOf("-")>-1&&k.allowNegative)?"-":"",o=p.replace(/[^0-9]/g,""),j=o.slice(0,o.length-k.precision),i,m,q;i=g(j,l,k);if(k.precision>0){if(!isNaN(p)&&p.indexOf(".")){var n=p.substr(p.indexOf(".")+1);o+=new Array((k.precision+1)-n.length).join(0);j=o.slice(0,o.length-k.precision);i=g(j,l,k)}m=o.slice(o.length-k.precision);q=new Array((k.precision+1)-m.length).join(0);i+=k.decimal+q+m}return f(i,k)}function b(r,n){var o=(r.indexOf("-")>-1&&n.allowNegative)?"-":"",m=r.replace(n.prefix,"").replace(n.suffix,""),l=m.split(n.decimal)[0],j,p="";if(l===""){l="0"}j=g(l,o,n);if(n.precision>0){var q=m.split(n.decimal);if(q.length>1){p=q[1]}j+=n.decimal+p;var k=Number.parseFloat((l+"."+p)).toFixed(n.precision);var i=k.toString().split(n.decimal)[1];j=j.split(n.decimal)[0]+"."+i}return f(j,n)}function g(k,i,j){k=k.replace(/^0*/g,"");k=k.replace(/\B(?=(\d{3})+(?!\d))/g,j.thousands);if(k===""){k="0"}return i+k}e.fn.maskMoney=function(i){if(d[i]){return d[i].apply(this,Array.prototype.slice.call(arguments,1))}else{if(typeof i==="object"||!i){return d.init.apply(this,arguments)}else{e.error("Method "+i+" does not exist on jQuery.maskMoney")}}}})(window.jQuery||window.Zepto);
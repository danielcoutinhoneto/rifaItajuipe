!function(){var a=jQuery.noConflict();a("#filter_action").click(function(e){a(this).hasClass("showFilters")?(a(this).removeClass("showFilters"),a(".filter").hide("fast")):(a(this).addClass("showFilters"),a(".filter").attr("style","display: block !important")),e.preventDefault()}),a(document).on("change","#ad_search select[name=state]",function(){var e=wpst.ajaxurl;a("#ad_search select[name=city]").html('<option value="">Aguarde carregando...</option>');var t=a("#ad_search select[name=state]").val();a.ajax({url:e,type:"get",data:{state:t,action:"get_city_search"},error:function(a){console.log(a)},success:function(e){a("#ad_search select[name=city]").html(e)}})}),a(function(){var e=wpst.currency,t=wpst.position,o=wpst.precision;o=parseInt(o);var s=wpst.decimal,i=wpst.thousands,l="right"==t?e:"right_space"==t?" "+e:"";e="left"==t?e:"left_space"==t?e+" ":"",a("#valorMin_id, #valorMax_id, #currency").maskMoney({prefix:e,decimal:s,thousands:i,suffix:l,precision:o})}),a(document).ready(function(e){a(".all_my_quotas a").attr("data-target","#allMyQuotas"),a(".all_my_quotas a").attr("data-toggle","modal")}),a(document).ready(function(){a(".js_phone").mask("(99) 99999-9999"),a(".js_cpf").mask("999.999.999-99"),a(".js_zipcode").mask("99.999-999")}),a("select[name=order]").on("change",function(){a(".imob_box, .main_result").animate({opacity:.5},300),a(".form_sorting_order").submit(),a(".jq_disabled").prop("disabled",!0),a(".jq_disabled").unbind("click")}),a("select[name=mark],select[name=tipo],select[name=city]").on("change",function(){a(".imob_box, .main_result").animate({opacity:.5},300),a("#advanced_form_filter").submit(),a(".jq_disabled").prop("disabled",!0)}),a(".imob_box .search-field").on("change",function(e){a(".imob_box, .main_result").animate({opacity:.5},300),a(".search-form").submit(),a(".jq_disabled").prop("disabled",!0)}),a(document).ready(function(){var e=a("select[name=city]");a("select[name=state]").on("change",function(){a(".imob_box, .main_result").animate({opacity:.5},300),e.val(""),a("#advanced_form_filter").submit(),a(".jq_disabled").prop("disabled",!0)})}),a(document).ready(function(){var e=a("#code_id"),t=a("select[name=mark]"),o=a("select[name=tipo]"),s=a("select[name=city]"),i=a("select[name=state]"),l=a("#valorMin_id"),n=a("#valorMax_id"),r=a("input[name=s]");a(".jq_mark").on("click",function(){a(".imob_box, .main_result").animate({opacity:.5},300),t.val(""),a("#advanced_form_filter").submit(),a(".jq_disabled").prop("disabled",!0)}),a(".jq_type").on("click",function(){a(".imob_box, .main_result").animate({opacity:.5},300),o.val(""),a("#advanced_form_filter").submit(),a(".jq_disabled").prop("disabled",!0)}),a(".jq_city").on("click",function(){a(".imob_box, .main_result").animate({opacity:.5},300),s.val(""),a("#advanced_form_filter").submit(),a(".jq_disabled").prop("disabled",!0)}),a(".jq_state").on("click",function(){a(".imob_box, .main_result").animate({opacity:.5},300),i.val(""),s.val(""),a("#advanced_form_filter").submit(),a(".jq_disabled").prop("disabled",!0)}),a(".jq_code").on("click",function(){a(".imob_box, .main_result").animate({opacity:.5},300),e.val(""),a("#advanced_form_filter").submit(),a(".jq_disabled").prop("disabled",!0)}),a(".jq_value_min").on("click",function(){a(".imob_box, .main_result").animate({opacity:.5},300),l.val(""),a("#advanced_form_filter").submit(),a(".jq_disabled").prop("disabled",!0)}),a(".jq_value_max").on("click",function(){a(".imob_box, .main_result").animate({opacity:.5},300),n.val(""),a("#advanced_form_filter").submit(),a(".jq_disabled").prop("disabled",!0)}),a(".jq_search").on("click",function(){a(".imob_box, .main_result").animate({opacity:.5},300),r.val(""),a("#advanced_form_filter").submit(),a(".jq_disabled").prop("disabled",!0)})}),a("#valorMin_id, #valorMax_id,#code_id").on("change",function(){a(this).val(),a(".imob_box, .main_result").animate({opacity:.5},300),a("#advanced_form_filter").submit(),a(".jq_disabled").prop("disabled",!0)}),a(".filter_button").remove(),a(".btnSubmit").on("click",function(){a(".cotaEmpty").hide(),a(".alert-msg").hide()}),a(function(){a("input, select").on("focus",function(){a(this).removeClass("error"),a(".form-msg").remove()}),a("#numberReservation").on("click",function(){a("#numberReservation input").removeClass("error"),a(".form-msg").remove()})}),a("#paymentForm").submit(function(e){var t=a(this),o=a(e.target),s=a("button[type=submit]",o),i=t.attr("data-fulldate"),l=wpst.ajaxurl,n=a("#selected-numbers").val(),r=(a("#pid").val(),t.serialize());let c=a(this).attr("data-validation");n||"true"==c?(s.addClass("process"),a(this).find("button[type='submit']").prop("disabled",!0),a.ajax({url:l,type:"post",data:{data:r,action:"check_validate_purchase"},success:function(e){if(s.removeClass("process"),a("#btnSubmit").removeAttr("disabled"),0==e.data.verify_nonce&&(window.location.href=e.data.url),1==e.data.action&&(a("#numberReservation").removeClass("show").hide(),a.confirm({theme:"bootstrap",useBootstrap:!0,columnClass:"medium",title:"Ops!",content:'<p style="word-wrap:break-word;">'+e.data.msg+"</p>",type:"red",icon:"fa fa-exclamation-triangle",animation:"scale",closeAnimation:"scale",closeIcon:!1,opacity:.5,buttons:{confirm:{text:"OK",btnClass:"btn-danger",action:function(){window.location.reload(!0)}}}})),!e.success){var t=a("input[name="+e.data.field+"], select[name="+e.data.field+"]");t.addClass(e.data.class),a(".form-msg").remove(),a(".alert-msg").remove(),t.closest(".form-group").append('<div class="form-msg invalid-feedback" style="display:block">'+e.data.msg+"</div>"),"true"==e.data.showmsg&&a(".mainAlert").append('<div class="alert-msg alert alert-danger">'+e.data.erromsg+"</div>")}e.success&&(a("#numberReservation").removeClass("show").hide(),a.confirm({theme:"bootstrap",useBootstrap:!1,columnClass:"medium",title:"Atenção!",content:'<p style="word-wrap:break-word;">A compra da(s) cota(s) <span><b>'+e.data.numbers+"</b></span> foi realizada com sucesso! </p> <p><span class='text-danger'>Você pode consultar sua(s) cota(s)</span> informando o número do telefone que foi informado no momento da compra.</p><p>A data limite para o pagamento da(s) cota(s) é até <span class='text-danger'><b>"+i+"</b></span></p><p>Após essa data, sua(s) cota(s) serão disponibilizados automaticamente!</p>",icon:"fa fa-info-circle",animation:"scale",closeAnimation:"scale",closeIcon:!1,opacity:.5,buttons:{confirm:{text:"OK",btnClass:"btn-danger",action:function(){a.alert({icon:"fa fa-spinner fa-spin",type:"white",title:"Aviso!",content:"Por favor, aguarde processando...",buttons:!1,closeIcon:!1}),window.location=e.data.redirectUrl}}}}))}})):a(".cotaEmpty").show(),e.preventDefault()}),a(".close_end").confirm({theme:"bootstrap",useBootstrap:!0,title:"Alerta",content:"<b>Deseja desmarcar todas as cotas já selecionadas?</b>",buttons:{confirmar:{text:"Sim",btnClass:"btn-danger",action:function(){dataObject.selected.map(({number:a})=>document.getElementById(`cota_${a}`)).forEach(a=>a.click())}},cancel:{text:"Não",btnClass:"btn-info"}}}),a(function(){a('[data-toggle="tooltip"]').tooltip()}),a(".paidMyNumber").click(function(e){a("#consultMyNumbersForm").append('<input type="hidden" id="paidMyNumber" name="paidMyNumber" value="true">')}),a("#consultMyNumberModal .close, #consultMyNumberModal .btn-danger").click(function(e){a("#paidMyNumber").remove()}),a("#consultMyNumbersForm").submit(function(e){e.preventDefault();let t=a(this).serialize(),o=a(e.target),s=a("button[type=submit]",o);s.addClass("process");let i=wpst.ajaxurl;a.ajax({url:i,type:"post",data:{data:t,action:"fnc_consult_number"},success:function(e){if(s.removeClass("process"),!e.success){let t=a("input[name="+e.data.field+"]");t.addClass(e.data.class),a(".form-msg").remove(),t.closest(".form-group").append('<div class="form-msg invalid-feedback" style="display:block">'+e.data.msg+"</div>")}e.success&&1==e.data.result&&(a("#consultMyNumberModal").removeClass("show").hide(),a("#consultMyNumberModal").modal("hide"),a("#phone").val(""),a.alert({icon:"fa fa-spinner fa-spin",type:"blue",title:"Aviso!",content:"Por favor, aguarde processando...",buttons:!1,closeIcon:!1}),window.location=e.data.redirect)}})}),a("#consultAllMyQuotasForm").submit(function(e){e.preventDefault();let t=a(this).serialize(),o=a(e.target),s=a("button[type=submit]",o);s.addClass("process");let i=wpst.ajaxurl;a.ajax({url:i,type:"post",data:{data:t,action:"fnc_consult_all_my_quotas"},success:function(e){if(s.removeClass("process"),!e.success){let t=a("input[name="+e.data.field+"]");t.addClass(e.data.class),a(".form-msg").remove(),t.closest(".form-group").append('<div class="form-msg invalid-feedback" style="display:block">'+e.data.msg+"</div>")}e.success&&1==e.data.result&&(a("#allMyQuotas").removeClass("show").hide(),a("#allMyQuotas").modal("hide"),a("#phone").val(""),a.alert({icon:"fa fa-spinner fa-spin",type:"blue",title:"Aviso!",content:"Por favor, aguarde processando...",buttons:!1,closeIcon:!1}),window.location=e.data.redirect)}})}),a(document).ready(function(e){let t=wpst.ajaxurl;a(".container_raffle_list .alert.alert-info").show(),a.ajax({url:t,type:"post",data:{data:"available",action:"load_available_reffle"},success:function(e){a(".main_raffle").html(e),a(".alert.alert-info").hide()}})}),a(".list_reffle .available").on("click",function(e){let t=wpst.ajaxurl;a(".alert.alert-info").show(),a(".main_raffle").html(""),a.ajax({url:t,type:"post",data:{data:"available",action:"load_available_reffle"},success:function(e){a(".main_raffle").html(e),a(".alert.alert-info").hide()}})}),a(".list_reffle .finished").on("click",function(){let e=wpst.ajaxurl;a(".alert.alert-info").show(),a(".main_raffle").html(""),a.ajax({url:e,type:"post",data:{data:"finished",action:"load_finished_reffle"},success:function(e){a(".main_raffle").html(e),a(".alert.alert-info").hide()}})}),a(".list_reffle .future").on("click",function(){let e=wpst.ajaxurl;a(".alert.alert-info").show(),a(".main_raffle").html(""),a.ajax({url:e,type:"post",data:{data:"future",action:"load_future_reffle"},success:function(e){a(".main_raffle").html(e),a(".alert.alert-info").hide()}})}),a(document).ready(function(e){let t=wpst.ajaxurl;a(".container_raffle_list .alert.alert-info").show(),a.ajax({url:t,type:"post",data:{data:"available",action:"load_available_mreffle"},success:function(e){a(".mraffle").html(e),a(".alert.alert-info").hide()}})}),a(".list_reffle .mraffle-available").on("click",function(e){let t=wpst.ajaxurl;a(".alert.alert-info").show(),a(".mraffle").html(""),a.ajax({url:t,type:"post",data:{data:"available",action:"load_available_mreffle"},success:function(e){a(".mraffle").html(e),a(".alert.alert-info").hide()}})}),a(".list_reffle .mraffle-finished").on("click",function(){let e=wpst.ajaxurl;a(".alert.alert-info").show(),a(".mraffle").html(""),a.ajax({url:e,type:"post",data:{data:"finished",action:"load_finished_mreffle"},success:function(e){a(".mraffle").html(e),a(".alert.alert-info").hide()}})}),a(".list_reffle .mraffle-future").on("click",function(){let e=wpst.ajaxurl;a(".alert.alert-info").show(),a(".mraffle").html(""),a.ajax({url:e,type:"post",data:{data:"future",action:"load_future_mreffle"},success:function(e){a(".mraffle").html(e),a(".alert.alert-info").hide()}})}),a(".list_reffle ").on("click",function(){a(this).siblings("li").removeClass("active"),a(this).addClass("active")}),a("body").on("click",".whats_action",function(){let e=a("#ptitle").val(),t=a(".contact-whatsapp").attr("data-whatsapp"),o="Olá, meu nome é "+a(this).attr("data-name")+", estou entrando em contato para enviar o comprovante do sorteio do(a) "+e+" código da reserva "+a(this).attr("data-code")+".",s="https://api.whatsapp.com/send?l=pt_br&phone="+encodeURIComponent(t)+"&text="+encodeURIComponent(o);window.open(s,"_blank"),a(".jconfirm-open").hide(),a("#consultMyNumberModal").modal("hide"),a("#sendreceiptModal").modal("hide")}),a(".caption-numbers li.available").on("click",function(){a(".list_card li.available").removeClass("hideElement").addClass("showElement"),a(".list_card li.reserved").removeClass("showElement").addClass("hideElement"),a(".list_card li.paid").removeClass("showElement").addClass("hideElement")}),a(".caption-numbers li.reserved").on("click",function(){a(".list_card li.reserved").removeClass("hideElement").addClass("showElement"),a(".list_card li.available").removeClass("showElement").addClass("hideElement"),a(".list_card li.paid").removeClass("showElement").addClass("hideElement")}),a(".caption-numbers li.paid").on("click",function(){a(".list_card li.paid").removeClass("hideElement").addClass("showElement"),a(".list_card li.available").removeClass("showElement").addClass("hideElement"),a(".list_card li.reserved").removeClass("showElement").addClass("hideElement")})}();